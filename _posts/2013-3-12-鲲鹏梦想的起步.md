---
layout: post
category : 平台
tags : [鸡血]
---

2012年我们最成功的事情，是做了一个叫做鲲鹏的平台。很悲催，它被停掉了。但是，它依然走出了我的老梦想的第一步。

说道梦想不得不回到开始。

回头看，我的第一份工作就是用Autocad绘图，画了3年。autocad 使用c++开发，和一般软件不同，它采用了Lisp作为用户语言，就是说，对于绘图员，不需要多少编码基础，就可以可以用Lisp来完成很多重复工作。这样的做法，就是Lisp本身成为用户自己交流的一个平台。我就曾经是其中的一个案例。为了解决自己的问题，编写了几大千行的代码。我离开那个公司之后很多年，他们依然在使用。并且通过项目的方式，为其他单位拷贝。那会儿还是用软盘呢：）

很多年后，我依然为这种模式着迷。我反感c++，一直以来。我觉得很多领域，它做不了什么Lisp不能做的事情，却带来了无谓的复杂，还需要很多安装，还需要编译过程，一旦粗错，完全重来。我根本就反对它的编译方法。相比之下，我认为只有Lisp才是王道。很多年后，在为delphi寻找库的时候，我痛苦的发现，c++（或者说c语言）确实可以适应多种平台，有更多的库和框架，速度快，这些优势是客观存在的。

我一直想，我要c++的一切好处，但是我喜爱lisp，就不能有一种语言达到两种好处吗？我很痛苦，但是慢慢接受，答案是：没有。

但是对用户，答案是可以有。那就是 底层用c++，高层用脚本。作为平台开发者，我们要花费更多的精力。对于用户，可以实现大部分开发都可以用脚本。和autocad不同的是，它的脚本采用的是Lisp，我们采用的，则是JS（对此选择不太清楚原因的，可以参考[/语言/2013/03/12/javascript为什么那么红](//语言/2013/03/12/javascript为什么那么红)。

这样做的好处是什么呢？

1. 业界的最长寿的软件，就是这样做的。比如autocad，emacs。后者22版，从70s开始做。他们两个不约而同的选择了Lisp做脚本语言。Lisp语言本身就构成了一个用户社区。你不需要为了自己的小的，离散的问题而找到厂家，也不需要搭建复杂的开发环境，就在系统之内，以脚本解决问题。

2. 技术和业务的更好分工。这些年技术变化真快，在MS红的时候，我没有想到有google，在google之后，我没有想到facebook,更加没有想到apple。我想不到的太多了。但是我们的产品业务，在那个平台上差别可以不大。并且是，也应该是一个技术问题。如果有底层的c++解决适应性问题，有js解决业务问题。可谓完美。适应性可以很多，包括OS，数据库，日志记录和分析，性能记录和分析，可用性分析，UI等等。

3. 更加野蛮的理想——跨数据库。我觉得现在的sqlserver太不像话，这么多年，从2005-2008-将要发布的yukon（2012），看不出真正的价值。我一直希望的语言改进，分布式方面几乎毫无进步。mysql现在渐成主流。并且在我司内的5年的考验。当我希望老板在一个新小系统内换用mysql时，我说，关键是在互联网内没有人用它。如果出现问题，我找不到人解决。而mysql，我有信心。我希望根本就封住数据库对用户的可见性，用户不需要它，无须感受它的存在。这个完全是技术的东西。应该包装起来。目前我们在sqlserver上面有大量投资，一般的代码基都是t-sql，一种sqlsever的sql标准方言。改写是非常吓人的事情。现在我要说。我们的业务应该是和数据库无关的。是应该脱离数据库谈业务的。更换了数据库，我们的业务一样可以运行，甚至可以运行的更好 。

4. 更好的模块化技术。有dll+接口的古典技术，有aop的过渡技术，也有js+host lang的技术。后者，也就是鲲鹏的做法，是更加柔性的模块技术。c++公开全部抽象接口，以UI为例，form，edit，grid，都是和具体实现无关的，与平台无关的，js可以访问所有这些抽象的接口完成工作，在js内只有业务，无UI的实现细节，无须考虑各种平台的差异。更新的时候，从dll的方式，到更新javascript文件即可。这样的做法，类似更新sql 脚本，一样的方便自由。

所有这些想法，很多年。现在，我们走出了头一步。我们需要更多的支持者，能够通过 持有-试用-评估-采用 的工作流程，把它变成我们日常工作的一个资产。和我们接触，把想法变成现实，让平台可以支持到更多的人。

